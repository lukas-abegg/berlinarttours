= form_for(@trip_request, html: {class:"form-search smaller"}) do |trip|
  %h2.text-red
    ="Touranfrage für Tour"
  .row
    .col-lg-12
      %h3
        = @trip.name
      %i
        = "Guide:"
      %br
      = "#{@profile.first_name} #{@profile.last_name}"
      %br
      %br
      %img.img-thumbnail.img-circle{:style => "width: 100px; height: 100px;",:src => @profile.avatar.url(:medium)}
      %br
      %br

  = fields_for :contact, @contact do |contact|
    .field.hidden
      = contact.text_field :subject, :value => "Touranfrage für Tour: #{@trip.name}"
    .field.hidden
      = contact.text_field :sender_account_type, :value => @sender_account_type
    .field.hidden
      = contact.text_field :sender_name, :value => @sender_name
    .field.hidden
      = contact.text_field :sender_email, :value => @sender_email
    .field.hidden
      = contact.text_field :receiver_name, :value => @receiver_name
    .field.hidden
      = contact.text_field :receiver_email, :value => @receiver_email
  .field.hidden
    = trip.text_field :trip_id, :value => @trip.id
  .field.hidden
    = trip.text_field :trip_name, :value => @trip.name
  .field.hidden
    = trip.text_field :guide_name, :value => @receiver_name
  .field.hidden
    = trip.text_field :guide_email, :value => @receiver_email
  .field.hidden
    = trip.text_field :tourist_id, :value => @sender_id
  .field.hidden
    = trip.text_field :tourist_name, :value => @sender_name
  .field
    = trip.label "Touranfrage", class: 'control-label'
    %br/
    = trip.text_area :request_descr, :rows => "10", class: 'form-control', :placeholder => "Anfragetext für Tour"
    %span.help-block
  .field
    = trip.label "Wer nimmt teil?", class: 'control-label'
    %br/
    = trip.text_area :who_wants, :rows => "10", class: 'form-control', :placeholder => "Wie gross ist die Gruppe der Teilnehmer?"
    %span.help-block
  .field
    = trip.label "An welchem Tag?", class: 'control-label'
    %br/
    = trip.text_field :date, {class: 'datepicker form-control text-center', 'data-provide' =>'datepicker', :placeholder => "Wann soll die Tour stattfinden?"}
    %span.help-block
    .field
    = trip.label "Wann? (Uhrzeit)", class: 'control-label'
    %br/
    = trip.text_field :start, {class: 'timepicker form-control text-center', 'data-provide' =>'datepicker', :placeholder => "Wann soll die Tour stattfinden?"}
    %span.help-block
  .field
    = trip.label "Bemerkungen", class: 'control-label'
    %br/
    = trip.text_area :notes, :rows => "10", class: 'form-control', :placeholder => "Weitere Anmerkungen, Kontaktmöglichkeiten, Fragen?"
    %span.help-block
  .actions
    = trip.submit 'Submit', class: 'btn btn-primary'
    %br
    %br
    = link_to 'Zurück', profiles_search_guides_path, :class => 'btn btn-info pull-middle'

:javascript
  $('.datepicker').datepicker({
    format: "dd/mm/yyyy",
    clearBtn: true,
    language: "de",
    calendarWeeks: true,
    todayHighlight: true
  });

  var dateStr = "15/12/2013";   // the 15th of Dec, 2013
  var dateArr = dateStr.split('/');

  // new Date(YYYY, MM, DD); // note that month starts from 0, so
  // you have to subtract 1
  var date = new Date(dateArr[2], dateArr[1] - 1, dateArr[0]);
  console.log(date);  // output: Sun Dec 15 2013 00:00:00 GMT-0800 (PST)

  $( "#datepicker" ).datepicker({onSelect: function(){
            var day1 = $("#datepicker").datepicker('getDate').getDate();
            var month1 = $("#datepicker").datepicker('getDate').getMonth() + 1;
            var year1 = $("#datepicker").datepicker('getDate').getFullYear();
            var fullDate = year1 + "-" + month1 + "-" + day1;
    console.log(fullDate); }});

  $('#date').datepicker();
  $('#stepExample1').timepicker({ 'step': 30, 'timeFormat': 'H:i:s' });
  $('#stepExample2').timepicker({ 'step': 30, 'timeFormat': 'H:i:s'  });

  $('#stepExample1').on('changeTime', function() {
    $('#stepExample2').timepicker('setTime', $('#stepExample1').timepicker('getTime') );
    var time = $(this).val();
    var getDate = $('#date').val();
    var dateArr = time.split(':');
    var date = new Date(dateArr[2], dateArr[1] - 1, dateArr[0]);
    console.log(date);
    console.log(getDate);
  });